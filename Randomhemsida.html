<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title></title> </title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#7c3aed;--muted:#94a3b8;--glass:rgba(255,255,255,0.04)}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#071024 0%,var(--bg) 100%);color:#e6eef8;min-height:100vh}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 28px;background:linear-gradient(90deg,rgba(255,255,255,0.02),transparent);backdrop-filter:blur(6px)}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#2dd4bf);display:grid;place-items:center;font-weight:700;color:#021025}
    nav a{color:var(--muted);text-decoration:none;margin-left:18px;padding:8px 12px;border-radius:8px}
    nav a.active{background:var(--glass);color:#fff}
    main{padding:28px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:14px;border-radius:14px;border:1px solid rgba(255,255,255,0.03)}
    .card img{width:100%;height:150px;object-fit:cover;border-radius:10px}
    .card h3{margin:10px 0 6px;font-size:1.05rem}
    .card p{margin:0;color:var(--muted);font-size:0.9rem}
    .row{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
    .btn{background:var(--accent);border:none;color:#021025;padding:10px 12px;border-radius:10px;font-weight:600;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
    .cart-ind{background:#ef4444;color:#fff;padding:4px 8px;border-radius:999px;font-size:0.8rem;margin-left:10px}
    .panel{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:20px;border-radius:14px;border:1px solid rgba(255,255,255,0.03)}
    .checkout-form{max-width:520px;margin-top:14px;display:grid;gap:10px}
    input{padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    footer{padding:18px 28px;color:var(--muted);font-size:0.9rem}
    /* Chat bubble */
    .chat-bubble{position:fixed;bottom:20px;right:20px;width:60px;height:60px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;color:#021025;font-weight:700;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,0.4);z-index:999}
    .chat-window{position:fixed;bottom:90px;right:20px;width:280px;background:var(--card);border:1px solid rgba(255,255,255,0.1);border-radius:14px;display:none;flex-direction:column;z-index:998}
    .chat-header{padding:10px;background:var(--accent);color:#021025;font-weight:600;border-radius:14px 14px 0 0}
    .chat-messages{padding:10px;flex:1;max-height:200px;overflow-y:auto;font-size:0.9rem;color:var(--muted)}
    .chat-input{display:flex;border-top:1px solid rgba(255,255,255,0.1)}
    .chat-input input{flex:1;padding:10px;border:none;background:transparent;color:inherit}
    .chat-input button{background:var(--accent);border:none;color:#021025;padding:10px;cursor:pointer}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">FS</div>
      <div><div style="font-weight:700">Svensk Slav Handel</div></div>
    </div>
    <nav>
      <a href="#products" id="link-products" class="active">Produkter</a>
      <a href="#cart" id="link-cart">Kundvagn <span id="cart-count" class="cart-ind" style="display:none">0</span></a>
    </nav>
  </header>

  <main>
    <!-- Produkter -->
    <section id="page-products">
      <h1>Handla</h1>
      <p style="color:var(--muted);margin-bottom:18px">Klicka pÃ¥ produkter fÃ¶r att lÃ¤gga till dem i kundvagnen.</p>
      <div class="grid" id="products-grid"></div>
    </section>

    <!-- Kundvagn -->
    <section id="page-cart" style="display:none">
      <h1>Kundvagn</h1>
      <div id="cart-items" style="margin-top:12px"></div>

      <div style="margin-top:18px">
        <div class="panel">
          <h3>Betalningsinformation</h3>
          <form class="checkout-form" onsubmit="event.preventDefault();placeOrder()">
            <input type="text" placeholder="FullstÃ¤ndigt namn" required />
            <input type="email" placeholder="E-postadress" required />
            <input type="text" placeholder="Kortnummer (ex. 4242 4242 4242 4242)" required />
            <div style="display:flex;gap:8px">
              <input type="text" placeholder="MM/Ã…Ã…" style="flex:1" required />
              <input type="text" placeholder="CVC" style="width:120px" required />
            </div>
            <input type="text" placeholder="Adress" />
            <div style="display:flex;gap:10px;align-items:center;margin-top:6px">
              <button class="btn" type="submit">Betala</button>
              <button type="button" class="btn ghost" onclick="clearCart()">TÃ¶m kundvagn</button>
            </div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div style="display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px">
      <div>Â© Svensk Slav Handel AB</div>
      <div style="color:var(--muted)"></div>
    </div>
  </footer>

  <!-- Chat bubble -->
  <div class="chat-bubble" onclick="toggleChat()">ðŸ’¬</div>
  <div class="chat-window" id="chat-window">
    <div class="chat-header">Support</div>
    <div class="chat-messages" id="chat-messages">
      <div>Hej! Hur kan vi hjÃ¤lpa dig?</div>
    </div>
    <div class="chat-input">
      <input type="text" id="chat-input" placeholder="Skriv ett meddelande..." />
      <button onclick="sendChat()">âž¤</button>
    </div>
  </div>

  <script>
    // Produkter med specifik stock och rating
    const products = [
      {id:1,name:'Jamal',price:199,image:'https://cdn.discordapp.com/attachments/891295048573009990/1410959412142542928/crazy-young-man-14123266.png?ex=68b2e9da&is=68b1985a&hm=d7fd5980cd589a94a2a51f055cf6438de619f604329d3c91f948dc51156f064c&', stock:11, rating:4},
      {id:2,name:'Tyrone',price:249,image:'https://cdn.discordapp.com/attachments/891295048573009990/1410959412574687252/b31b35a3552ff75529ae0147280ffa6d.png?ex=68b2e9da&is=68b1985a&hm=d4de9128ef7583554527e299cdc464a71499f08746c53f5dc59766dc530d3228&', stock:7, rating:6},
      {id:3,name:'Mohammed Ali',price:299,image:'https://cdn.discordapp.com/attachments/891295048573009990/1410959413388378212/black-man-staring.png?ex=68b2e9da&is=68b1985a&hm=6eb6f32efe4d9a5d2ec602fdf9a5b0021e735eb3b1905dd18f5f5b298086407b&', stock:19, rating:8},
      {id:4,name:'Jerome',price:179,image:'https://cdn.discordapp.com/attachments/891295048573009990/1410959412914552875/293d428503ad8dd0615c83e5b4ced973.png?ex=68b2e9da&is=68b1985a&hm=2afbe5b00ebd22bd09d205f43bb6566eb8651859fc910ad80d1dd11233af8dc7&', stock:3, rating:10},
      {id:5,name:'Demetrius',price:219,image:'https://cdn.discordapp.com/attachments/891295048573009990/1410959413908603061/960px-Official_portrait_of_Barack_Obama-2.png?ex=68b2e9da&is=68b1985a&hm=06f930fa9dbaa135a380a3547f4d5cdc7270294cd110f8d9ffa9598e7c7254f9&', stock:9, rating:5},
      {id:6,name:'Franklin',price:269,image:'https://cdn.discordapp.com/attachments/891295048573009990/1410959414248210576/2Q.png?ex=68b2e9da&is=68b1985a&hm=60744948963181cc555691331e06dd613a22d54935fac1e58f2e341d266da1e5&', stock:28, rating:9}
    ];

    const grid=document.getElementById('products-grid');
    const cartCount=document.getElementById('cart-count');
    const cartItemsEl=document.getElementById('cart-items');
    let cart=[];

    function renderProducts(){
      grid.innerHTML='';
      products.forEach(p=>{
        const card=document.createElement('div'); card.className='card';
        card.innerHTML=`
          <img src="${p.image}" alt="${p.name}" />
          <h3>${p.name}</h3>
          <p>${p.price} kr</p>
          <p style="color:var(--muted);font-size:0.85rem">Stock: ${p.stock}</p>
          <p style="color:#facc15;font-size:0.85rem">${'â˜…'.repeat(p.rating)}${'â˜†'.repeat(10-p.rating)}</p>
          <div class="row">
            <button class="btn" onclick="addToCart(${p.id})" ${p.stock===0?'disabled style="opacity:0.5;cursor:not-allowed"':''}>
              ${p.stock===0?'Slut':'LÃ¤gg i kundvagn'}
            </button>
          </div>`;
        grid.appendChild(card);
      });
    }

    function addToCart(id){
      const prod=products.find(x=>x.id===id);
      if(prod.stock<=0){
        showToast('Produkten Ã¤r slut!');
        return;
      }
      cart.push(prod);
      prod.stock--; // Minska stock
      updateCartUI();
      renderProducts(); // Uppdatera korten
      showToast(`${prod.name} lades till i kundvagnen.`);
    }

    function updateCartUI(){
      if(cart.length===0){
        cartCount.style.display='none';
        cartItemsEl.innerHTML='<div class="panel">Din kundvagn Ã¤r tom.</div>';
        return;
      }
      cartCount.style.display='inline-block';cartCount.textContent=cart.length;
      cartItemsEl.innerHTML='';
      const panel=document.createElement('div'); panel.className='panel';
      const list=document.createElement('div'); let total=0;
      cart.forEach((it,idx)=>{
        total+=it.price;
        const row=document.createElement('div');
        row.style.display='flex';row.style.justifyContent='space-between';
        row.innerHTML=`<div style="display:flex;gap:12px;align-items:center">
          <img src="${it.image}" style="width:60px;height:44px;object-fit:cover;border-radius:8px"/>
          <div><strong>${it.name}</strong><div style='color:var(--muted);font-size:0.9rem'>${it.price} kr</div></div></div>
          <div><button class='btn ghost' onclick='removeItem(${idx})'>Ta bort</button></div>`;
        list.appendChild(row);
      });
      const foot=document.createElement('div');foot.style.marginTop='12px';
      foot.innerHTML=`<div style="display:flex;justify-content:space-between"><strong>Totalt:</strong><strong>${total} kr</strong></div>`;
      panel.appendChild(list);panel.appendChild(foot);cartItemsEl.appendChild(panel);
    }

    function removeItem(index){
      const prod = cart[index];
      prod.stock++; // LÃ¤gg tillbaka stock
      cart.splice(index,1); 
      updateCartUI(); 
      renderProducts();
    }
    function clearCart(){ 
      cart.forEach(p => p.stock++); // LÃ¤gg tillbaka stock
      cart=[]; 
      updateCartUI(); 
      renderProducts();
    }

    function placeOrder(){
      showToast('BestÃ¤llning skickad!');
      clearCart();
      location.hash='#products';
    }

    function showToast(msg){
      const t=document.createElement('div');
      t.textContent=msg;
      t.style.position='fixed';t.style.right='18px';t.style.bottom='18px';
      t.style.padding='10px 14px';t.style.background='rgba(0,0,0,0.7)';
      t.style.borderRadius='10px';t.style.zIndex='1000';
      document.body.appendChild(t);
      setTimeout(()=>t.remove(),2000);
    }

    function showPage(){
      const hash=location.hash.replace('#','')||'products';
      document.getElementById('page-products').style.display=hash==='products'?'':'none';
      document.getElementById('page-cart').style.display=hash==='cart'?'':'none';
      document.getElementById('link-products').classList.toggle('active',hash==='products');
      document.getElementById('link-cart').classList.toggle('active',hash==='cart');
    }

    // Chat
    function toggleChat(){
      const win=document.getElementById('chat-window');
      win.style.display=win.style.display==='flex'?'none':'flex';
    }
    function sendChat(){
      const input=document.getElementById('chat-input');
      const msg=input.value.trim();
      if(msg){
        const messages=document.getElementById('chat-messages');
        const div=document.createElement('div'); div.textContent="Du: "+msg;
        messages.appendChild(div);
        messages.scrollTop=messages.scrollHeight;
        input.value='';
      }
    }

    window.addEventListener('hashchange',showPage);
    renderProducts(); updateCartUI(); showPage();
  </script>
</body>
</html>
